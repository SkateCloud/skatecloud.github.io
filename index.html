<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans,default">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="hi,这里是记录我学习还有一些思考的地方，欢迎您的访问(-_^)">
<meta property="og:type" content="website">
<meta property="og:title" content="Skate Cloud&#39;s Blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Skate Cloud&#39;s Blog">
<meta property="og:description" content="hi,这里是记录我学习还有一些思考的地方，欢迎您的访问(-_^)">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Skate Cloud&#39;s Blog">
<meta name="twitter:description" content="hi,这里是记录我学习还有一些思考的地方，欢迎您的访问(-_^)">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title> Skate Cloud's Blog </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Skate Cloud's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">^ω^</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/15/ios-multithread/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Skate Cloud">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Skate Cloud's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2018/04/15/ios-multithread/" itemprop="url">
                  iOS 多线程
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-04-15T12:58:03+08:00">
                2018-04-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="多线程的基本概念"><a href="#多线程的基本概念" class="headerlink" title="多线程的基本概念"></a>多线程的基本概念</h2><ul>
<li>进程：可以理解成一个运行中的应用程序，是系统进行资源分配和调度的基本单位，是操作系统结构的基础，主要管理资源。</li>
<li>线程：是进程的基本执行单元，一个进程对应多个线程。</li>
<li>主线程：处理UI，所有更新UI的操作都必须在主线程上执行。不要把耗时操作放在主线程，会卡界面。</li>
<li>多线程：在同一时刻，一个CPU只能处理1条线程，但CPU可以在多条线程之间快速的切换，只要切换的足够快，就造成了多线程一同执行的假象。</li>
<li>线程就像火车的一节车厢，进程则是火车。车厢（线程）离开火车（进程）是无法跑动的，而火车（进程）至少有一节车厢（主线程）。多线程可以看做多个车厢，它的出现是为了提高效率。</li>
<li>多线程是通过提高资源使用率来提高系统总体的效率。</li>
<li>我们运用多线程的目的是：将耗时的操作放在后台执行！</li>
</ul>
<h2 id="线程的生命周期"><a href="#线程的生命周期" class="headerlink" title="线程的生命周期"></a>线程的生命周期</h2><ul>
<li>新建：实例化线程对象</li>
<li>就绪：向线程对象发送start消息，线程对象被加入可调度线程池等待CPU调度。</li>
<li>运行：CPU 负责调度可调度线程池中线程的执行。线程执行完成之前，状态可能会在就绪和运行之间来回切换。就绪和运行之间的状态变化由CPU负责，程序员不能干预。</li>
<li>阻塞：当满足某个预定条件时，可以使用休眠或锁，阻塞线程执行。sleepForTimeInterval（休眠指定时长），sleepUntilDate（休眠到指定日期），@synchronized(self)：（互斥锁）。</li>
<li>死亡：正常死亡，线程执行完毕。非正常死亡，当满足某个条件后，在线程内部中止执行/在主线程中止线程对象</li>
</ul>
<h2 id="线程安全问题"><a href="#线程安全问题" class="headerlink" title="线程安全问题"></a>线程安全问题</h2><p>当多个线程访问同一块资源时，很容易引发数据错乱和数据安全问题。就好比几个人在同一时修改同一个表格，造成数据的错乱。</p>
<p>解决多线程安全问题的方法</p>
<ul>
<li>方法一：互斥锁（同步锁）</li>
</ul>
<p>判断的时候锁对象要存在，如果代码中只有一个地方需要加锁，大多都使用self作为锁对象，这样可以避免单独再创建一个锁对象。</p>
<p>加了互斥做的代码，当新线程访问时，如果发现其他线程正在执行锁定的代码，新线程就会进入休眠。</p>
<ul>
<li>方法二：自旋锁</li>
</ul>
<p>加了自旋锁，当新线程访问代码时，如果发现有其他线程正在锁定代码，新线程会用死循环的方式，一直等待锁定的代码执行完成。相当于不停尝试执行代码，比较消耗性能。</p>
<h2 id="GCD的理解与使用"><a href="#GCD的理解与使用" class="headerlink" title="GCD的理解与使用"></a>GCD的理解与使用</h2><h3 id="GCD的特点"><a href="#GCD的特点" class="headerlink" title="GCD的特点"></a>GCD的特点</h3><ul>
<li>GCD会自动利用更多的CPU内核</li>
<li>GCD自动管理线程的生命周期（创建线程，调度任务，销毁线程等）</li>
<li>程序员只需要告诉 GCD 想要如何执行什么任务，不需要编写任何线程管理代码</li>
</ul>
<h3 id="GCD的基本概念"><a href="#GCD的基本概念" class="headerlink" title="GCD的基本概念"></a>GCD的基本概念</h3><ul>
<li>任务（block）：任务就是将要在线程中执行的代码，将这段代码用block封装好，然后将这个任务添加到指定的执行方式（同步执行和异步执行），等待CPU从队列中取出任务放到对应的线程中执行。</li>
<li>同步（sync）：一个接着一个，前一个没有执行完，后面不能执行，不开线程。</li>
<li>异步（async）：开启多个新线程，任务同一时间可以一起执行。异步是多线程的代名词</li>
<li>队列：装载线程任务的队形结构。(系统以先进先出的方式调度队列中的任务执行)。在GCD中有两种队列：串行队列和并发队列。</li>
<li>并发队列：线程可以同时一起进行执行。实际上是CPU在多条线程之间快速的切换。（并发功能只有在异步（dispatch_async）函数下才有效）</li>
<li>串行队列：线程只能依次有序的执行。</li>
<li>GCD总结：将任务(要在线程中执行的操作block)添加到队列(自己创建或使用全局并发队列)，并且指定执行任务的方式(异步dispatch_async，同步dispatch_sync)</li>
</ul>
<h3 id="队列的创建方法"><a href="#队列的创建方法" class="headerlink" title="队列的创建方法"></a>队列的创建方法</h3><ul>
<li>使用dispatch_queue_create来创建队列对象，传入两个参数，第一个参数表示队列的唯一标识符，可为空。第二个参数用来表示串行队列（DISPATCH_QUEUE_SERIAL）或并发队列（DISPATCH_QUEUE_CONCURRENT）。</li>
<li>GCD队列种类：<ul>
<li>主队列：主队列负责在主线程上调度任务，如果在主线程上已经有任务正在执行，主队列会等到主线程空闲后再调度任务。通常是返回主线程更新UI的时候使用。dispatch_get_main_queue()</li>
<li>全局并发队列：全局并发队列是就是一个并发队列，是为了让我们更方便的使用多线程。dispatch_get_global_queue(0, 0)</li>
</ul>
</li>
</ul>
<h3 id="同步-异步-任务"><a href="#同步-异步-任务" class="headerlink" title="同步/异步/任务"></a>同步/异步/任务</h3><ul>
<li>同步（sync）使用dispatch_sync来表示。</li>
<li>异步（async）使用dispatch_async。</li>
</ul>
<h3 id="GCD的使用"><a href="#GCD的使用" class="headerlink" title="GCD的使用"></a>GCD的使用</h3><p>由于有多种队列（串行/并发/主队列）和两种执行方式（同步/异步），所以他们之间可以有多种组合方式。</p>
<ul>
<li>串行同步</li>
<li>串行异步</li>
<li>并发同步</li>
<li>并发异步</li>
<li>主队列同步</li>
<li>主队列异步</li>
</ul>
<h3 id="线程通讯"><a href="#线程通讯" class="headerlink" title="线程通讯"></a>线程通讯</h3><p>开发中需要在主线程上进行UI的相关操作，通常会把一些耗时的操作放在其他线程，比如说图片文件下载等耗时操作。</p>
<p>当完成了耗时操作之后，需要回到主线程进行UI的处理，这里就用到了线程之间的通讯。</p>
<ul>
<li></li>
<li><p>开发中需要在主线程上进行UI的相关操作，通常会把一些耗时的操作放在其他线程，比如说图片文件下载等耗时操作。</p>
<p>当完成了耗时操作之后，需要回到主线程进行UI的处理，这里就用到了线程之间的通讯。</p>
</li>
<li><p>开发中需要在主线程上进行UI的相关操作，通常会把一些耗时的操作放在其他线程，比如说图片文件下载等耗时操作。</p>
<p>当完成了耗时操作之后，需要回到主线程进行UI的处理，这里就用到了线程之间的通讯。</p>
</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/12/28/advanced-swift-self-conclusion/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Skate Cloud">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Skate Cloud's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/12/28/advanced-swift-self-conclusion/" itemprop="url">
                  advanced swift self conclusion
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-28T17:35:41+08:00">
                2017-12-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"></div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/12/24/Alipay-SDK-swift4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Skate Cloud">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Skate Cloud's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/12/24/Alipay-SDK-swift4/" itemprop="url">
                  Alipay-SDK-swift4
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-24T23:07:02+08:00">
                2017-12-24
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>前言：这个是我做LinkHust的过程中遇到的问题，在这个上面花了挺多时间的，下面就让我们来一步一步的搭建支付功能吧。</p>
<blockquote>
<p>我还写了一个小的Demo便于参考,地址：<a href="https://github.com/SkateCloud/BYAliPayDemo" target="_blank" rel="external">Github 地址</a></p>
<p>别忘了star呦，嘻嘻</p>
<p>如果还有问题的话可以联系我：baiyun@bingyan.net</p>
</blockquote>
<h2 id="first-of-all"><a href="#first-of-all" class="headerlink" title="first of all"></a>first of all</h2><p>先按官方文档给的，将文件拖入demo，这里要注意，拖入<code>Utils</code>时要记得选择<code>creat group</code>选项</p>
<p>然后要建立桥接文件：</p>
<ul>
<li>手动建立的话，流程应该是File-&gt;New File-&gt;header file确定一个名字就可以了，然后在Project-&gt;Bulid Settings搜索<code>header</code>,选择OC-Bridging  Header,双击，将你的头文件拖进去，就可以了。</li>
</ul>
<p>效果应该是这样的：<img src="https://ws3.sinaimg.cn/large/006tNc79gy1fmsbabceoyj319g0eimxx.jpg" alt=""></p>
<p>可以看到，Xcode会自动识别你的头文件路径的</p>
<blockquote>
<p>按照官方给的demo，header中应该引入头文件：</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">#import &lt;AlipaySDK/AlipaySDK.h&gt;</div><div class="line">#import &quot;APAuthInfo.h&quot;</div><div class="line">#import &quot;APOrderInfo.h&quot;</div><div class="line">#import &quot;APRSASigner.h&quot;</div></pre></td></tr></table></figure>
<ul>
<li>或者可以Xcode为你自动生成头文件，但是我的Xcode9从来没有成功过，我还是选择Manually比较好</li>
</ul>
<p>这个是拖完的效果</p>
<p><img src="https://ws4.sinaimg.cn/large/006tNc79gy1fmsb1ug2u5j30fw16075j.jpg" alt=""></p>
<p>Command+R一下，会发现</p>
<blockquote>
<p>Undefined symbols for architecture x86_64:</p>
<p>  “_BIO_new”, referenced from:</p>
<p>​      _rsa_sign_with_private_key_pem in openssl_wrapper.o</p>
</blockquote>
<p>报错原因是：没有拖入<code>libcrypto.a</code>&amp;<code>libssl.a</code>文件，拖入进去</p>
<p>command+R就build成功了😄</p>
<p><em>要注意的地方：</em>header中如果找不到文件的话，记得Targets-&gt;SearchPaths中加入，为了防止报错，我全加了一遍，可以看一下<img src="https://ws3.sinaimg.cn/large/006tNc79gy1fmsbtekte8j31120ay0td.jpg" alt=""></p>
<p><img src="https://ws4.sinaimg.cn/large/006tNc79gy1fmsbtdgwv8j310w0ekab4.jpg" alt=""></p>
<p><img src="https://ws1.sinaimg.cn/large/006tNc79gy1fmsbtc2ogyj319g0eimxx.jpg" alt=""></p>
<h2 id="second"><a href="#second" class="headerlink" title="second"></a>second</h2><p>下面我们要做的就是使用支付宝的功能了呢，踩完了一遍这个坑，现在使用这个SDK居然有些得心应手？喵喵喵？</p>
<ul>
<li><p>首先在<code>Appdelegate.swift</code>文件中加入：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">application</span><span class="params">(<span class="number">_</span> application: UIApplication, open url: URL, sourceApplication: String?, annotation: Any)</span></span> -&gt; <span class="type">Bool</span> &#123;</div><div class="line">    <span class="keyword">if</span> url.host == <span class="string">"safepay"</span> &#123;</div><div class="line">        <span class="type">AlipaySDK</span>.defaultService().processAuthResult(url, standbyCallback: &#123;(resultDic) <span class="keyword">in</span></div><div class="line">            <span class="built_in">print</span>(resultDic)</div><div class="line">        &#125;)</div><div class="line">        <span class="keyword">return</span> <span class="literal">true</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="literal">true</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">application</span><span class="params">(<span class="number">_</span> app: UIApplication, open url: URL, options: [UIApplicationOpenURLOptionsKey : Any] = [:])</span></span> -&gt; <span class="type">Bool</span> &#123;</div><div class="line">    <span class="keyword">if</span> url.host == <span class="string">"safepay"</span> &#123;</div><div class="line">        <span class="type">AlipaySDK</span>.defaultService().processAuthResult(url, standbyCallback: &#123;(resultDic) <span class="keyword">in</span></div><div class="line">            <span class="built_in">print</span>(resultDic)</div><div class="line">        &#125;)</div><div class="line">        <span class="keyword">return</span> <span class="literal">true</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="literal">true</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>然后应该是在viewcontroller中加入代码使我们的app可以跟SDK联系起来</p>
<ul>
<li><p>在开始coding之前我要提醒一下，不要忘了添加<code>URL Shemes</code>这个可以告诉iOS，在完成支付之后跳回哪个app，具体步骤Targets-&gt;Info-&gt;URL Types,完成后长这样：<img src="https://ws4.sinaimg.cn/large/006tNc79gy1fmscbrijbvj30to0bot8t.jpg" alt=""></p>
</li>
<li><p>好啦，我们终于可以开始心心念念的coding啦，我在这里按照官方文档给的，直接将app的orderstring放在本地拼接，实际使用中还是要向后台请求的。我们来看一下代码</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@IBAction</span> <span class="function"><span class="keyword">func</span> <span class="title">clickbutton</span><span class="params">(<span class="number">_</span> sender: UIButton)</span></span> &#123;</div><div class="line">        <span class="keyword">var</span> orderString = <span class="string">""</span></div><div class="line">        <span class="keyword">let</span> rsa2PrivateKey = <span class="string">""</span> <span class="comment">//私钥rsa2格式，这里可以二者选一(rsa2或者rsa)，但是官方建议是选择rsa2</span></div><div class="line">        <span class="comment">//拼接过程</span></div><div class="line">        <span class="keyword">let</span> appId = <span class="string">""</span> <span class="comment">//公司申请的支付宝appid</span></div><div class="line">        <span class="keyword">let</span> order = <span class="type">APOrderInfo</span>()</div><div class="line">        order.app_id = appId</div><div class="line">        order.method = <span class="string">"alipay.trade.app.pay"</span></div><div class="line">        order.charset = <span class="string">"utf-8"</span></div><div class="line">        order.notify_url = <span class="string">""</span> <span class="comment">//请求结果，填入后台地址，阿里会异步通知后台</span></div><div class="line">        <span class="keyword">let</span> dateFormatter = <span class="type">DateFormatter</span>()</div><div class="line">        dateFormatter.dateFormat = <span class="string">"yyyy-MM-dd HH:mm:ss"</span></div><div class="line">        order.timestamp = dateFormatter.string(from: <span class="type">Date</span>())</div><div class="line">        order.version = <span class="string">"1.0"</span></div><div class="line">        order.sign_type = <span class="string">"RSA2"</span></div><div class="line">        <span class="comment">//商品数据</span></div><div class="line">        order.biz_content = <span class="type">APBizContent</span>()</div><div class="line">        order.biz_content.body = <span class="string">"测试"</span> <span class="comment">//自定订单内容，这个其实在使用的时候看不出来</span></div><div class="line">        order.biz_content.subject = <span class="string">"LinkHust联网费用"</span> <span class="comment">//自定订单title，这个要记得说明这项费用的明目</span></div><div class="line">        order.biz_content.out_trade_no = <span class="string">"0000134"</span><span class="comment">//自己定id，记得id不可重复哦</span></div><div class="line">        order.biz_content.timeout_express = <span class="string">"30m"</span></div><div class="line">        order.biz_content.total_amount = <span class="string">"0.01"</span> <span class="comment">//价格，测试的话记得改成一分钱，我这次测试才花了几毛钱哈哈哈</span></div><div class="line">        <span class="comment">//以下将商品信息拼成string</span></div><div class="line">        <span class="keyword">let</span> orderInfo = order.orderInfoEncoded(<span class="literal">false</span>)</div><div class="line">        <span class="keyword">let</span> orderInfoEncoded = order.orderInfoEncoded(<span class="literal">true</span>)</div><div class="line">        <span class="keyword">let</span> signer = <span class="type">APRSASigner</span>(privateKey: rsa2PrivateKey)</div><div class="line">        <span class="keyword">let</span> signString = signer?.sign(orderInfo, withRSA2: <span class="literal">true</span>)</div><div class="line">        <span class="keyword">if</span> <span class="keyword">let</span> signString = signString ,<span class="keyword">let</span> orderInfoEncoded = orderInfoEncoded&#123;</div><div class="line">        <span class="keyword">let</span> appScheme = <span class="string">"BYshemes"</span>   <span class="comment">//避免使用 alipay</span></div><div class="line">        orderString = <span class="type">String</span>.<span class="keyword">init</span>(format: <span class="string">"%@&amp;sign=%@"</span>,orderInfoEncoded,signString)</div><div class="line">            </div><div class="line">            <span class="type">AlipaySDK</span>.defaultService().payOrder(orderString, fromScheme: appScheme, callback: &#123; (resultDic) <span class="keyword">in</span></div><div class="line">                <span class="built_in">print</span>(resultDic)</div><div class="line">            &#125;);</div><div class="line">            </div><div class="line">        &#125;</div><div class="line">        </div><div class="line">    &#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="end"><a href="#end" class="headerlink" title="end"></a>end</h2><p>我们来测试一下吧</p>
<p><strong>rsa_private read error : private key is NULL</strong>遇到了这样的错误，不要方，It’s fine</p>
<blockquote>
<p>在RSADataSigner.m文件中 搜索代码 [result appendString:@”—–BEGIN PRIVATE KEY—–\n”]; 将其改成 [result appendString:@”—–BEGIN RSA PRIVATE KEY—–\n”];</p>
<p> 在RSADataSigner.m文件中 搜索代码 [result appendString:@”\n—–END PRIVATE KEY—–”]; 将其改成 [result appendString:@”\n—–END RSA PRIVATE KEY—–”];就OK了</p>
</blockquote>
<p>来看一下结果吧：<img src="https://ws1.sinaimg.cn/large/006tNc79gy1fmsde72pgtj30i40xeq30.jpg" alt=""></p>
<h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><p>不要怕，支付宝的SDK已经比微信好很多了哈哈，just enjoy it</p>
</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/12/18/swift-Algorithm/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Skate Cloud">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Skate Cloud's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/12/18/swift-Algorithm/" itemprop="url">
                  算法导论-笔记
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-18T22:47:31+08:00">
                2017-12-18
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li><p>插入排序 𝛩(n^2)</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">insertsort</span><span class="params">(arr :<span class="keyword">inout</span> [Int])</span></span> -&gt; <span class="type">Void</span> &#123;</div><div class="line">    <span class="keyword">var</span> temp = <span class="number">0</span></div><div class="line">    <span class="keyword">var</span> i = <span class="number">0</span>, j = <span class="number">0</span></div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1</span>..&lt;arr.<span class="built_in">count</span> &#123;</div><div class="line">        temp = arr[i]</div><div class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> (<span class="number">1</span>...i).reversed() &#123;</div><div class="line">            <span class="keyword">if</span> arr[j-<span class="number">1</span>] &gt; temp &#123;</div><div class="line">                arr[j] = arr[j-<span class="number">1</span>]</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        arr[j] = temp</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>归并排序 𝛩(nlgn)</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">merge_sort</span><span class="params">(arr: <span class="keyword">inout</span> [Int],result: <span class="keyword">inout</span> [Int],start : Int,end : Int)</span></span> &#123;</div><div class="line">    <span class="keyword">if</span> start &gt;= end &#123; <span class="keyword">return</span> &#125;</div><div class="line">    <span class="keyword">let</span> len = end - start, mid = start + len / <span class="number">2</span></div><div class="line">    <span class="keyword">var</span> start1 = start, end1 = mid, start2 = mid + <span class="number">1</span>, end2 = end</div><div class="line">    merge_sort(arr: &amp;arr, result: &amp;result, start: start1, end: end1)</div><div class="line">    merge_sort(arr: &amp;arr, result: &amp;result, start: start2, end: end2)</div><div class="line">    <span class="keyword">var</span> k = start</div><div class="line">    <span class="keyword">while</span> start1 &lt;= end1 &amp;&amp; start2 &lt;= end2 &#123;</div><div class="line">        <span class="keyword">if</span> arr[start1] &lt; arr[start2] &#123;</div><div class="line">            result[k] = arr[start1]</div><div class="line">            k += <span class="number">1</span></div><div class="line">            start1 += <span class="number">1</span></div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            result[k] = arr[start2]</div><div class="line">            k += <span class="number">1</span></div><div class="line">            start2 += <span class="number">1</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">while</span> start1 &lt;= end1 &#123;</div><div class="line">        result[k] = arr[start1]</div><div class="line">        k += <span class="number">1</span></div><div class="line">        start1 += <span class="number">1</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">while</span> start2 &lt;= end2 &#123;</div><div class="line">        result[k] = arr[start2]</div><div class="line">        k += <span class="number">1</span></div><div class="line">        start2 += <span class="number">1</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">for</span> k <span class="keyword">in</span> start...end &#123;</div><div class="line">        arr[k] = result[k]</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<p><code>分治策略</code></p>
<blockquote>
<p>在分治策略中，我们递归的求解一个问题，在每层递归中应用如下三个步骤：</p>
</blockquote>
<ul>
<li><strong>分解</strong>将问题划分为一些子问题，子问题的形式与原问题一样，只是规模更小</li>
<li><strong>解决</strong>步骤递归地求解出子问题。如果子问题的规模足够小，则停止递归，直接求解</li>
<li><strong>合并</strong>步骤将子问题的解组合成原问题的解</li>
</ul>
<blockquote>
<p>当子问题足够大，需要递归求解 时，我们称之为递归情况，当子问题变得足够小，不再需要递归时，我们说递归已经“触底”，进入了基本情况</p>
<ul>
<li>最大子数组问题<br>之前在leetcode上做过类似的题，因此贴上来。</li>
</ul>
</blockquote>
<p>Say you have an array for which the ith element is the price of a given stock on day i.</p>
<p>If you were only permitted to complete at most one transaction (ie, buy one and sell one share of the stock), design an algorithm to find the maximum profit.</p>
<p>Example 1:<br>Input: [7, 1, 5, 3, 6, 4]<br>Output: 5<br>max. difference = 6-1 = 5 (not 7-1 = 6, as selling price needs to be larger than buying price)</p>
<p>Example 2:<br>Input: [7, 6, 4, 3, 1]<br>Output: 0<br>In this case, no transaction is done, i.e. max profit = 0.<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">maxProfit</span><span class="params">(prices : [Int])</span></span>-&gt;<span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">var</span> maxprofit = <span class="number">0</span></div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">0</span>..&lt;prices.<span class="built_in">count</span>-<span class="number">1</span> &#123;</div><div class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> i+<span class="number">1</span>..&lt;prices.<span class="built_in">count</span> &#123;</div><div class="line">            <span class="keyword">var</span> profit = prices[j] - prices[i]</div><div class="line">            maxprofit = profit &gt; maxprofit ? profit : maxprofit</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> maxprofit</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<blockquote>
<p><img src="https://ws3.sinaimg.cn/large/006tKfTcly1fmm5gt49ivj30y004umxa.jpg =300x30" alt=""></p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">maxProfit</span><span class="params">(prices : [Int])</span></span>-&gt;<span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">var</span> minprice = <span class="type">Int</span>.<span class="built_in">max</span>, maxprofit = <span class="number">0</span></div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">0</span>..&lt;prices.<span class="built_in">count</span> &#123;</div><div class="line">        <span class="keyword">if</span> prices[i] &lt; minprice &#123;</div><div class="line">            minprice = prices[i]</div><div class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> prices[i] - minprice &gt; maxprofit &#123;</div><div class="line">            maxprofit = prices[i] - minprice</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> maxprofit</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fmm5njrzlfj30ok05q3yl.jpg" width="600" height="130"></p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/11/06/learn-swift-standard-libray/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Skate Cloud">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Skate Cloud's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/11/06/learn-swift-standard-libray/" itemprop="url">
                  learn-swift-standard-libray
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-06T20:00:32+08:00">
                2017-11-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// debugDescription</span></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">test</span> </span>&#123;</div><div class="line"></div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">test</span> : <span class="title">CustomDebugStringConvertible</span></span>&#123;</div><div class="line"><span class="keyword">var</span> debugDescription: <span class="type">String</span> &#123;</div><div class="line"><span class="keyword">return</span> <span class="string">"test"</span></div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> tests = test()</div><div class="line"><span class="built_in">debugPrint</span>(tests)</div><div class="line"><span class="comment">// map , filter , reduce</span></div><div class="line"><span class="keyword">let</span> a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</div><div class="line"><span class="keyword">let</span> b = a.<span class="built_in">filter</span>&#123;$<span class="number">0</span>&gt;<span class="number">3</span>&#125;</div><div class="line"><span class="keyword">let</span> <span class="built_in">c</span> = a.<span class="built_in">filter</span>&#123;$<span class="number">0</span>&gt;<span class="number">3</span>&#125;.<span class="built_in">map</span>&#123;$<span class="number">0</span>*<span class="number">2</span>&#125;</div><div class="line"><span class="keyword">let</span> d = a.<span class="built_in">filter</span>&#123;$<span class="number">0</span>&gt;<span class="number">3</span>&#125;.<span class="built_in">map</span>&#123;$<span class="number">0</span>*<span class="number">2</span>&#125;.<span class="built_in">reduce</span>(<span class="number">0</span>)&#123;$<span class="number">0</span>+$<span class="number">1</span>&#125;</div><div class="line"><span class="built_in">print</span>(b,<span class="built_in">c</span>,d) <span class="comment">// [4, 5, 6] [8, 10, 12] 30</span></div><div class="line"><span class="comment">//sort</span></div><div class="line"><span class="keyword">let</span> a = [<span class="number">1</span>,<span class="number">6</span>,<span class="number">2</span>,<span class="number">7</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">3</span>]</div><div class="line"><span class="keyword">let</span> test = a.sorted()</div><div class="line"><span class="keyword">let</span> test_1 = a.sorted(by: &#123;$<span class="number">0</span>&gt;$<span class="number">1</span>&#125;)</div><div class="line"><span class="built_in">print</span>(test, test_1) <span class="comment">// [1, 2, 3, 3, 4, 6, 7] [7, 6, 4, 3, 3, 2, 1]</span></div><div class="line"><span class="keyword">let</span> test = [-<span class="number">1</span>,-<span class="number">2</span>,-<span class="number">3</span>,<span class="number">0</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>]</div><div class="line"><span class="keyword">let</span> index:<span class="type">Int</span>? = test.index(<span class="keyword">where</span>: &#123;$<span class="number">0</span>&gt;=<span class="number">0</span>&#125;) <span class="comment">// Optional(3)</span></div><div class="line"><span class="keyword">let</span> test_1 = test.<span class="built_in">map</span>&#123;$<span class="number">0</span>&gt;<span class="number">0</span>&#125; <span class="comment">// [false, false, false, false, true, true, true]</span></div><div class="line"><span class="keyword">let</span> test_2 = test.<span class="built_in">filter</span>&#123;$<span class="number">0</span>&gt;<span class="number">0</span>&#125; <span class="comment">// [5, 6, 7]</span></div><div class="line"><span class="keyword">if</span> <span class="keyword">let</span> i = test.index(of: <span class="number">3</span>) &#123;</div><div class="line">test[i] <span class="comment">// 5</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">if</span> <span class="keyword">let</span> i = test.index(of: <span class="number">3</span>) &#123;</div><div class="line">test[i] <span class="comment">//</span></div><div class="line">&#125;</div><div class="line"><span class="comment">// DateFormatter()</span></div><div class="line"><span class="keyword">let</span> dateFormatter = <span class="type">DateFormatter</span>()</div><div class="line">dateFormatter.doesRelativeDateFormatting = <span class="literal">true</span></div><div class="line">dateFormatter.dateStyle = .short</div><div class="line">dateFormatter.timeStyle = .short</div><div class="line"><span class="keyword">let</span> date = <span class="type">Date</span>()</div><div class="line">dateFormatter.string(from: date)</div><div class="line"><span class="comment">// slice</span></div><div class="line"><span class="keyword">let</span> test =  [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>, <span class="number">60</span>, <span class="number">70</span>, <span class="number">80</span>, <span class="number">90</span>, <span class="number">100</span>]</div><div class="line"><span class="keyword">let</span> testSlice = test[<span class="number">3</span>...<span class="number">7</span>] <span class="comment">// [40, 50, 60, 70, 80]</span></div><div class="line"><span class="keyword">let</span> testSlice_suffix = test.suffix(<span class="number">5</span>) <span class="comment">// [60, 70, 80, 90, 100]</span></div><div class="line"><span class="keyword">let</span> testSlice_prefix = test.<span class="keyword">prefix</span>(<span class="number">5</span>) <span class="comment">// [10, 20, 30, 40, 50]</span></div><div class="line"><span class="keyword">let</span> str = <span class="string">"hello,there"</span></div><div class="line"><span class="keyword">let</span> range : <span class="type">ClosedRange</span>&lt;<span class="type">String</span>.<span class="type">Index</span>&gt; = str.index(str.startIndex, offsetBy: <span class="number">2</span>)...str.index(str.startIndex, offsetBy: <span class="number">5</span>)</div><div class="line"><span class="built_in">print</span>(str[range]) <span class="comment">// llo,</span></div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/10/29/post-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Skate Cloud">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Skate Cloud's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/10/29/post-2/" itemprop="url">
                  python学习笔记
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-10-29T22:57:41+08:00">
                2017-10-29
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="Strings"><a href="#Strings" class="headerlink" title="Strings"></a>Strings</h3><ul>
<li>不想要特殊的符号时，可以在<code>string</code>前加上<code>r</code></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'C:\some\name'</span>)  <span class="comment"># here \n means newline!</span></div><div class="line">C:\some</div><div class="line">ame</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">r'C:\some\name'</span>)  <span class="comment"># note the r before the quote</span></div><div class="line">C:\some\name</div></pre></td></tr></table></figure>
<ul>
<li>分割长字符串成若干个短字符串</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>test = (</div><div class="line">    <span class="string">'hello '</span></div><div class="line">    <span class="string">'world '</span></div><div class="line">    <span class="string">'test'</span></div><div class="line">)</div><div class="line">print(test)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>hello world test</div></pre></td></tr></table></figure>
<ul>
<li>访问string的元素(索引可以是负数，此时代表从右边开始,倒序，左边最开始为0，所以右边是-1，但是最多只能访问到-string.size)</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>word = <span class="string">'Python'</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>word[<span class="number">0</span>]  <span class="comment"># character in position 0</span></div><div class="line"><span class="string">'P'</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>word[<span class="number">5</span>]  <span class="comment"># character in position 5</span></div><div class="line"><span class="string">'n'</span></div></pre></td></tr></table></figure>
<ul>
<li>序列slice被用来获取子字符串</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>word[<span class="number">0</span>:<span class="number">2</span>]  <span class="comment"># characters from position 0 (included) to 2 (excluded)</span></div><div class="line"><span class="string">'Py'</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>word[<span class="number">2</span>:<span class="number">5</span>]  <span class="comment"># characters from position 2 (included) to 5 (excluded)</span></div><div class="line"><span class="string">'tho'</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>word[:<span class="number">2</span>] + word[<span class="number">2</span>:]</div><div class="line"><span class="string">'Python'</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>word[:<span class="number">4</span>] + word[<span class="number">4</span>:]</div><div class="line"><span class="string">'Python'</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>word[:<span class="number">2</span>]   <span class="comment"># character from the beginning to position 2 (excluded)</span></div><div class="line"><span class="string">'Py'</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>word[<span class="number">4</span>:]   <span class="comment"># characters from position 4 (included) to the end</span></div><div class="line"><span class="string">'on'</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>word[<span class="number">-2</span>:]  <span class="comment"># characters from the second-last (included) to the end</span></div><div class="line"><span class="string">'on'</span></div></pre></td></tr></table></figure>
<h3 id="Lists"><a href="#Lists" class="headerlink" title="Lists"></a>Lists</h3><p>list 是可变的，有别与string</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 访问</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>squares[<span class="number">0</span>]  <span class="comment"># indexing returns the item</span></div><div class="line"><span class="number">1</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>squares[<span class="number">-1</span>]</div><div class="line"><span class="number">25</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>squares[<span class="number">-3</span>:]  <span class="comment"># slicing returns a new list</span></div><div class="line">[<span class="number">9</span>, <span class="number">16</span>, <span class="number">25</span>]</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>squares[:]</div><div class="line">[<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">16</span>, <span class="number">25</span>]</div><div class="line"><span class="comment"># 增加</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>squares + [<span class="number">36</span>, <span class="number">49</span>, <span class="number">64</span>, <span class="number">81</span>, <span class="number">100</span>]</div><div class="line">[<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">16</span>, <span class="number">25</span>, <span class="number">36</span>, <span class="number">49</span>, <span class="number">64</span>, <span class="number">81</span>, <span class="number">100</span>]</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>cubes.append(<span class="number">7</span> ** <span class="number">3</span>)  <span class="comment"># and the cube of 7</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>cubes</div><div class="line">[<span class="number">1</span>, <span class="number">8</span>, <span class="number">27</span>, <span class="number">64</span>, <span class="number">125</span>, <span class="number">216</span>, <span class="number">343</span>]</div><div class="line"><span class="comment"># 修改</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>cubes = [<span class="number">1</span>, <span class="number">8</span>, <span class="number">27</span>, <span class="number">65</span>, <span class="number">125</span>] </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>cubes[<span class="number">3</span>] = <span class="number">64</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>cubes</div><div class="line">[<span class="number">1</span>, <span class="number">8</span>, <span class="number">27</span>, <span class="number">64</span>, <span class="number">125</span>]</div><div class="line"><span class="comment"># replace</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>letters = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>, <span class="string">'e'</span>, <span class="string">'f'</span>, <span class="string">'g'</span>]</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>letters</div><div class="line">[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>, <span class="string">'e'</span>, <span class="string">'f'</span>, <span class="string">'g'</span>]</div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="comment"># replace some values</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>letters[<span class="number">2</span>:<span class="number">5</span>] = [<span class="string">'C'</span>, <span class="string">'D'</span>, <span class="string">'E'</span>]</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>letters</div><div class="line">[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'C'</span>, <span class="string">'D'</span>, <span class="string">'E'</span>, <span class="string">'f'</span>, <span class="string">'g'</span>]</div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="comment"># now remove them</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>letters[<span class="number">2</span>:<span class="number">5</span>] = []</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>letters</div><div class="line">[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'f'</span>, <span class="string">'g'</span>]</div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="comment"># clear the list by replacing all the elements with an empty list</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>letters[:] = []</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>letters</div><div class="line">[]</div><div class="line"><span class="comment"># 获取长度</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>letters = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>]</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>len(letters)</div><div class="line"><span class="number">4</span></div><div class="line"><span class="comment"># list[list]</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>a = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>]</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>n = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>x = [a, n]</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>x</div><div class="line">[[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>], [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]]</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>x[<span class="number">0</span>]</div><div class="line">[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>]</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>x[<span class="number">0</span>][<span class="number">1</span>]</div><div class="line"><span class="string">'b'</span></div></pre></td></tr></table></figure>
<h3 id="if"><a href="#if" class="headerlink" title="if"></a>if</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">x = input(<span class="string">"please input an string: "</span>)</div><div class="line"><span class="keyword">if</span> <span class="number">3</span> &gt; len(x) &gt; <span class="number">0</span> :</div><div class="line">    print(<span class="string">"&gt;0"</span>)</div><div class="line"><span class="keyword">elif</span> <span class="number">3</span> &lt; len(x) &lt; <span class="number">5</span> :</div><div class="line">    print(<span class="string">'3&lt;x&lt;5'</span>)</div><div class="line"><span class="keyword">elif</span> <span class="number">5</span> &lt; len(x) &lt; <span class="number">7</span> :</div><div class="line">    print(<span class="string">'5&lt;x&lt;7'</span>)</div><div class="line"><span class="keyword">else</span> :</div><div class="line">    print(<span class="string">'none'</span>)</div><div class="line"><span class="comment"># please input an string: helloe</span></div><div class="line"><span class="comment"># 5&lt;x&lt;7</span></div></pre></td></tr></table></figure>
<h3 id="for"><a href="#for" class="headerlink" title="for"></a>for</h3><ul>
<li>for循环与swift中的很相似，采用for…in…遍历list</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">words = [<span class="string">'hello'</span>,<span class="string">'how'</span>,<span class="string">'are'</span>,<span class="string">'u'</span>]</div><div class="line"><span class="keyword">for</span> word <span class="keyword">in</span> words :</div><div class="line">print(word,len(word))</div></pre></td></tr></table></figure>
<p><code>tip:range()函数</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">5</span>):</div><div class="line">     print(i) <span class="comment"># 01234</span></div><div class="line">range(<span class="number">5</span>,<span class="number">10</span>) <span class="comment"># 5,6,7,9</span></div><div class="line">range(<span class="number">0</span>,<span class="number">10</span>,<span class="number">3</span>) <span class="comment"># 0,3,6,9</span></div><div class="line">range(<span class="number">-10</span>,<span class="number">-40</span>,<span class="number">-70</span>) <span class="comment"># -10,-40,-70</span></div></pre></td></tr></table></figure>
<h3 id="break"><a href="#break" class="headerlink" title="break"></a>break</h3><p><code>break</code>和C语言类似，用于跳出最近一级<code>for</code>或<code>while</code>循环,与循环一起使用时，<code>else</code> 子句与 <a href="https://docs.python.org/3/reference/compound_stmts.html#try" target="_blank" rel="external">try</a> 语句的 <code>else</code> 子句比与 <a href="https://docs.python.org/3/reference/compound_stmts.html#if" target="_blank" rel="external">if</a> 语句的具有更多的共同点：<a href="https://docs.python.org/3/reference/compound_stmts.html#try" target="_blank" rel="external">try</a> 语句的 <code>else</code> 子句在未出现异常时运行，循环的 <code>else</code> 子句在未出现 <code>break</code> 时运行.<code>continue</code>表示循环继续执行下一次迭代（即没有continue不会执行后面的操作）</p>
<p><code>tips:pass,continue,break区别</code></p>
<blockquote>
<p>先来看一段代码：</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> num <span class="keyword">in</span> range(<span class="number">0</span>, <span class="number">5</span>):</div><div class="line">    <span class="keyword">if</span> num % <span class="number">2</span> == <span class="number">0</span>:</div><div class="line">        print(num)</div><div class="line">    print(<span class="string">'none'</span>)</div><div class="line">print()</div><div class="line"><span class="keyword">for</span> num <span class="keyword">in</span> range(<span class="number">0</span>, <span class="number">5</span>):</div><div class="line">    <span class="keyword">if</span> num % <span class="number">2</span> == <span class="number">0</span>:</div><div class="line">        print(num)</div><div class="line">        <span class="keyword">pass</span></div><div class="line">    print(<span class="string">'pass'</span>)</div><div class="line">print()</div><div class="line"><span class="keyword">for</span> num <span class="keyword">in</span> range(<span class="number">0</span>,<span class="number">5</span>):</div><div class="line">    <span class="keyword">if</span> num % <span class="number">2</span> == <span class="number">0</span>:</div><div class="line">        print(num)</div><div class="line">        <span class="keyword">continue</span></div><div class="line">    print(<span class="string">'continue'</span>)</div><div class="line">print()</div><div class="line"><span class="keyword">for</span> num <span class="keyword">in</span> range(<span class="number">0</span>,<span class="number">5</span>):</div><div class="line">    <span class="keyword">if</span> num % <span class="number">2</span> == <span class="number">0</span>:</div><div class="line">        print(num)</div><div class="line">        <span class="keyword">break</span></div><div class="line">    print(<span class="string">'break'</span>)</div><div class="line">print()</div></pre></td></tr></table></figure>
<blockquote>
<p>输出：</p>
<p>0<br>none<br>none<br>2<br>none<br>none<br>4<br>none</p>
<p>0<br>pass<br>pass<br>2<br>pass<br>pass<br>4<br>pass</p>
<p>0<br>continue<br>2<br>continue<br>4</p>
<p>0</p>
<p>不难看出，<em>pass</em>相当于空语句，直接执行if后面的语句，而<em>continue</em>则是直接继续下一个循环，<em>break</em>则是跳出当前循环，自然不会执行print语句</p>
</blockquote>
<h3 id="Stack-amp-Queue"><a href="#Stack-amp-Queue" class="headerlink" title="Stack &amp; Queue"></a>Stack &amp; Queue</h3><ul>
<li><p>Stack</p>
<p><code>list</code>可以用来构造堆栈</p>
<p><em>操作</em>：<strong>append()</strong> &amp; <strong>pop()</strong></p>
</li>
<li><p>queue</p>
<p><code>list</code>可以用来构造队列，但是效率低。使用<strong>collections.deque</strong>,它为在首尾两端快速插入和删除而设计</p>
<p><em>操作</em>：<strong>append()</strong> &amp; <strong>popleft()</strong></p>
</li>
</ul>
<h3 id="嵌套的列表推导式"><a href="#嵌套的列表推导式" class="headerlink" title="嵌套的列表推导式"></a>嵌套的列表推导式</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">matrix = [[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>],[<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>],[<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>]]</div><div class="line">test = list(zip(*matrix)) <span class="comment"># [(1, 5, 9), (2, 6, 10), (3, 7, 11), (4, 8, 12)]</span></div><div class="line">test = [[row[i] <span class="keyword">for</span> row <span class="keyword">in</span> matrix] <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">4</span>)]</div><div class="line"><span class="comment"># 等价与：</span></div><div class="line">test = []</div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">4</span>):</div><div class="line">    test_row = []</div><div class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> matrix:</div><div class="line">        test_row.append(row[i])</div><div class="line">    test.append(test_row)</div></pre></td></tr></table></figure>
<h3 id="Set-集合"><a href="#Set-集合" class="headerlink" title="Set( 集合)"></a>Set( 集合)</h3><p><code>set</code>是一个无序不重复元素的集。集合对象还支持 union（联合），intersection（交），difference（差）和 sysmmetric difference（对称差集）等数学运算。</p>
<blockquote>
<p>大括号或 <code>set()</code>函数可以用来创建集合。注意：想要创建空集合，你必须使用 <code>set()</code> 而不是 <code>{}</code>后者用于创建空字典。</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">a = &#123;<span class="string">'abcdeabcd'</span>&#125; <span class="comment"># &#123;'abcdeabcd'&#125;</span></div><div class="line">b = set(<span class="string">'abcdeabcd'</span>) <span class="comment"># &#123;'b', 'c', 'e', 'a', 'd'&#125;</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>test_a = &#123;<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>,<span class="string">'e'</span>,<span class="string">'g'</span>&#125;</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>test_b = &#123;<span class="string">'e'</span>,<span class="string">'g'</span>,<span class="string">'h'</span>,<span class="string">'i'</span>,<span class="string">'j'</span>&#125;</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>test_a - test_b <span class="comment"># a除去b中也有的元素</span></div><div class="line">set([<span class="string">'a'</span>, <span class="string">'c'</span>, <span class="string">'b'</span>, <span class="string">'d'</span>])</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>test_a | test_b <span class="comment"># a与b的合集</span></div><div class="line">set([<span class="string">'a'</span>, <span class="string">'c'</span>, <span class="string">'b'</span>, <span class="string">'e'</span>, <span class="string">'d'</span>, <span class="string">'g'</span>, <span class="string">'i'</span>, <span class="string">'h'</span>, <span class="string">'j'</span>])</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>test_a &amp; test_b <span class="comment"># a与b的交集</span></div><div class="line">set([<span class="string">'e'</span>, <span class="string">'g'</span>])</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>test_a ^ test_b <span class="comment"># a与b的合集除去交集</span></div><div class="line">set([<span class="string">'a'</span>, <span class="string">'c'</span>, <span class="string">'b'</span>, <span class="string">'d'</span>, <span class="string">'i'</span>, <span class="string">'h'</span>, <span class="string">'j'</span>])</div></pre></td></tr></table></figure>
<h3 id="字典"><a href="#字典" class="headerlink" title="字典"></a>字典</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">test = &#123;<span class="string">'a'</span>:<span class="number">1</span>,<span class="string">'b'</span>:<span class="number">2</span>,<span class="string">'c'</span>:<span class="number">3</span>&#125; </div><div class="line">test[<span class="string">'a'</span>] = <span class="number">3</span> <span class="comment"># &#123;'a': 3, 'b': 2, 'c': 3&#125;</span></div><div class="line"><span class="keyword">del</span> test[<span class="string">'a'</span>] </div><div class="line">test[<span class="string">'d'</span>] = <span class="number">4</span> <span class="comment"># &#123;'b': 2, 'c': 3, 'd': 4&#125;</span></div><div class="line">list(test.keys()) <span class="comment"># ['b', 'c', 'd']</span></div><div class="line">list(test.values()) <span class="comment"># [2, 3, 4]</span></div><div class="line"><span class="string">'a'</span> <span class="keyword">in</span> test <span class="comment"># False</span></div><div class="line">test = dict([(<span class="string">'a'</span>,<span class="number">1</span>),(<span class="string">'b'</span>,<span class="number">2</span>),(<span class="string">'c'</span>,<span class="number">3</span>),(<span class="string">'d'</span>,<span class="number">4</span> <span class="comment"># &#123;'a': 1, 'b': 2, 'c': 3, 'd': 4&#125;</span></div><div class="line"><span class="comment"># 字典推导式                                      </span></div><div class="line">test = &#123;x: x**<span class="number">2</span> <span class="keyword">for</span> x <span class="keyword">in</span> (<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>)&#125; <span class="comment"># &#123;2: 4, 4: 16, 6: 36&#125;                                      </span></div><div class="line"><span class="comment"># 如果关键字都是简单的字符串，有时通过关键字参数指定 key-value 对更为方便:</span></div><div class="line">test = dict(a=<span class="number">1</span>,b=<span class="number">2</span>,c=<span class="number">3</span>) <span class="comment"># &#123;'a': 1, 'c': 3, 'b': 2&#125;</span></div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/07/05/post/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Skate Cloud">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Skate Cloud's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/07/05/post/" itemprop="url">
                  swift4.0_Self_Conclusion
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-05T15:44:48+08:00">
                2017-07-05
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li><p>String</p>
<blockquote>
<p>Swift的String类型是值类型。如果创建一个新String值，则该String值在传递给函数或方法时被复制，或者当被赋值给常量或变量时被复制。在每种情况下，将String创建现有值的新副本，并且新副本被传递或分配，而不是原始版本。</p>
<p>Swift的编译器优化了字符串使用情况，以便仅在绝对必要时进行实际复制，这意味着当使用字符串作为值类型时，总是获得很好的性能。</p>
</blockquote>
</li>
<li><p>index</p>
<blockquote>
<p>每个String值都有一个相关联的索引类型，String.Index它与每个Character字符串的位置相对应。使用startIndex属性访问Charactera 的第一个的位置String。该endIndex属性是最后一个字符之后的位置String。因此，该endIndex属性不是字符串下标的有效参数。如果a String是空的，startIndex并且endIndex是相等的。</p>
</blockquote>
</li>
<li><p>集合类型</p>
<blockquote>
<p>Swift提供三种主要的集合类型：数组，集合，字典</p>
</blockquote>
</li>
<li>String:一个阵列存储在有序列表中的相同类型的值。相同的值可以在不同位置多次出现在数组中</li>
<li>Set:集合中没有定义顺序,集合中存储相同类型的不同值。当项目的顺序不重要时，或者当您需要确保一个项目只出现一次时，可以使用集合而不是数组。</li>
<li>Dictionary:字典存储相同类型的key和value，没有顺序，每个value与唯一的key关联。</li>
<li>控制流<blockquote>
<p>stride(from:to:by:)功能跳过不需要的标记。(右区间开)</p>
</blockquote>
</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">stride</span>(from: <span class="number">1</span>, to: <span class="number">5</span>, by: <span class="number">2</span>)&#123;</div><div class="line"><span class="built_in">print</span>(i)</div><div class="line">&#125;</div><div class="line"><span class="comment">// 1 3</span></div></pre></td></tr></table></figure>
<blockquote>
<p>stride(from:through:by:)（闭合区间）</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">stride</span>(from: <span class="number">1</span>, through: <span class="number">5</span>, by: <span class="number">2</span>)&#123;</div><div class="line"><span class="built_in">print</span>(i)</div><div class="line">&#125;</div><div class="line"><span class="comment">// 1 3 5</span></div></pre></td></tr></table></figure>
<blockquote>
<p>fallthrough</p>
<p>switch中，当匹配到一个case时，程序就不会往下执行，因此用fallthrough关键字进行下一个匹配</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">let</span> a = <span class="number">4</span></div><div class="line"><span class="keyword">var</span> s = <span class="type">String</span>()</div><div class="line"><span class="keyword">switch</span> a &#123;</div><div class="line"><span class="keyword">case</span> <span class="number">4</span>:</div><div class="line">s = <span class="string">"a = 4"</span></div><div class="line"><span class="keyword">fallthrough</span></div><div class="line"><span class="keyword">default</span>:</div><div class="line"><span class="built_in">print</span>(s + <span class="string">" and a is Int"</span>)</div><div class="line">&#125;</div><div class="line"><span class="comment">//a = 4 and a is Int</span></div></pre></td></tr></table></figure>
<ul>
<li><p>检查API可用性</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> #available(platform name version, ..., *) &#123;</div><div class="line">statements to execute <span class="keyword">if</span> the <span class="type">APIs</span> are available</div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line">fallback statements to execute <span class="keyword">if</span> the <span class="type">APIs</span> are unavailable</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>递归枚举</p>
<blockquote>
<p>关键字：<code>indirect</code></p>
</blockquote>
</li>
<li><p>类和结构体</p>
<blockquote>
<p>共同之处：</p>
<pre><code>1.定义属性以存储值
2.定义提供功能的方法
3.定义下标使用下标语法提供对其值的访问
4.定义初始化器以设置其初始状态
5.扩展到扩展其功能超出默认实现
6.符合协议提供某种特定的标准功能
</code></pre><p>类的附加功能：</p>
<pre><code>1.继承使一个类能够继承另一个类的特征。
2.类型转换使您能够在运行时检查和解释类实例的类型。
3.取消初始化使类的实例可以释放其分配的任何资源。
4.引用计数允许多个对类实例的引用。
</code></pre><p>类是引用类型：<br>与值类型不同，当引用类型被分配给变量或常量或将其传递给函数时，不会复制引用类型。而不是复制，而是使用对同一个现有实例的引用</p>
</blockquote>
</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/06/24/cocoa/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Skate Cloud">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Skate Cloud's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/06/24/cocoa/" itemprop="url">
                  Cocoa框架
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-06-24T23:50:04+08:00">
                2017-06-24
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li>应用程序<br>应用程序实际上就是文件夹，其中包含了编译后的二进制文件以及它们可能需要的所有资源<blockquote>
<p>在Xcode中编译一个项目并生成应用程序时，Xcode会创建应用程序包，并向其中复制所有必要的资源。</p>
</blockquote>
</li>
<li>框架<br>框架就是可以加载的代码和资源包，可供其他应用程序使用，框架不是独立的，它们被设计来供其他App使用</li>
<li>App的构成<br>iOS 或 OS X上的应用程序至少包含两项：<br>1.编译后的二进制文件<br>2.一个用于向系统描述该App的信息文件</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/06/11/object-types/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Skate Cloud">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Skate Cloud's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/06/11/object-types/" itemprop="url">
                  object types
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-06-11T01:24:31+08:00">
                2017-06-11
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Object Type：</p>
<ul>
<li><p><a href="#jump1">class</a></p>
</li>
<li><p><a href="#jump2">struct</a> </p>
</li>
<li><p><a href="#jump3">enum</a></p>
<h3 id="class"><a href="#class" class="headerlink" title="class"></a><span id="jump1">class</span></h3></li>
<li><p><code>init</code></p>
</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span></span>&#123;</div><div class="line">    <span class="keyword">var</span> name = <span class="string">"hello"</span></div><div class="line">    <span class="keyword">init</span>(name: <span class="type">String</span>) &#123;</div><div class="line">        <span class="keyword">self</span>.name = name</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> puppy = <span class="type">Dog</span>(name: <span class="string">"puppy"</span>)</div></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span></span>&#123;</div><div class="line">    <span class="keyword">var</span> name:<span class="type">String</span></div><div class="line">    <span class="keyword">init</span>(name: <span class="type">String</span> = <span class="string">"hello"</span>) &#123;</div><div class="line">        <span class="keyword">self</span>.name = name</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> puppy = <span class="type">Dog</span>()</div><div class="line"><span class="comment">//puppy.name:hello</span></div></pre></td></tr></table></figure>
<ul>
<li><p><code>property</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span></span>&#123;</div><div class="line"><span class="keyword">let</span> name = <span class="string">"pupy"</span></div><div class="line"><span class="keyword">let</span> lastname = <span class="string">"M"</span></div><div class="line"><span class="built_in">lazy</span> <span class="keyword">var</span> all:<span class="type">String</span> = <span class="keyword">self</span>.name + <span class="keyword">self</span>.lastname</div><div class="line"><span class="comment">// var all:String = &#123;return self.name + self.lastname&#125;</span></div><div class="line"><span class="comment">//lazy var wholo:String = &#123;</span></div><div class="line"><span class="comment">//     return self.first</span></div><div class="line"><span class="comment">// &#125;()</span></div><div class="line"><span class="comment">//&#125;</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li><code>static</code></li>
</ul>
<blockquote>
<p>static 属性可以互相引用来进行初始化工作，因为它也是采用lazy的方式初始化</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">dag</span> </span>&#123;</div><div class="line"> <span class="keyword">static</span> <span class="keyword">let</span> a = <span class="string">"A"</span></div><div class="line"> <span class="keyword">static</span> <span class="keyword">let</span> b = <span class="string">"B"</span></div><div class="line"> <span class="keyword">static</span> <span class="keyword">let</span> <span class="built_in">c</span> = a + b</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</blockquote>
</li>
</ul>
<h3 id="struct"><a href="#struct" class="headerlink" title="struct"></a><span id="jump2">struct</span></h3><ul>
<li>Subscripts</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> Foundation</div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Digit</span></span>&#123;</div><div class="line">    <span class="keyword">var</span> number: <span class="type">Int</span></div><div class="line">    <span class="keyword">init</span>(<span class="number">_</span> n:<span class="type">Int</span>) &#123;</div><div class="line">        <span class="keyword">self</span>.number = n</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">subscript</span>(ix:<span class="type">Int</span>) -&gt; <span class="type">Int</span>&#123;</div><div class="line">        <span class="keyword">get</span>&#123;</div><div class="line">            <span class="keyword">let</span> s = <span class="type">String</span>(<span class="keyword">self</span>.number)</div><div class="line">            <span class="keyword">return</span> <span class="type">Int</span>(<span class="type">String</span>(s[s.index(s.startIndex, offsetBy: ix)]))!</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">set</span>&#123;</div><div class="line">            <span class="keyword">var</span> s = <span class="type">String</span>(<span class="keyword">self</span>.number)</div><div class="line">            <span class="keyword">let</span> i = s.index(s.startIndex, offsetBy: ix)</div><div class="line">            s.replaceSubrange(i...i, with: <span class="type">String</span>(newValue))</div><div class="line">            <span class="keyword">self</span>.number = <span class="type">Int</span>(s)!</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> d = <span class="type">Digit</span>(<span class="number">1234</span>)</div><div class="line"><span class="keyword">let</span> aDigit = d[<span class="number">2</span>]  <span class="comment">//3</span></div><div class="line">d[<span class="number">0</span>] = <span class="number">2</span></div><div class="line"><span class="built_in">print</span>(d.number)  <span class="comment">//2234</span></div></pre></td></tr></table></figure>
<h3 id="enum"><a href="#enum" class="headerlink" title="enum"></a><span id="jump3">enum</span></h3><ul>
<li><p>declaration</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Type</span></span>&#123;</div><div class="line">    <span class="keyword">case</span> a</div><div class="line">    <span class="keyword">case</span> b</div><div class="line">    <span class="keyword">case</span> <span class="built_in">c</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> type = <span class="type">Type</span>.a <span class="comment">//let type: Type = .a</span></div></pre></td></tr></table></figure>
</li>
<li><p>rawValue</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Type1</span>:<span class="title">Int</span></span>&#123;</div><div class="line">    <span class="keyword">case</span> a = <span class="number">0</span></div><div class="line">    <span class="keyword">case</span> b = <span class="number">1</span></div><div class="line">    <span class="keyword">case</span> <span class="built_in">c</span> = <span class="number">2</span></div><div class="line">&#125;</div><div class="line"><span class="built_in">print</span>(<span class="type">Type1</span>.a.rawValue) <span class="comment">//0</span></div></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>
<p>枚举变量携带的值被叫做<code>raw values</code>,因此可以通过它的<code>rawValue</code>属性获取它的值</p>
</blockquote>
<ul>
<li>init<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> type = <span class="type">Type1</span>(rawValue: <span class="number">0</span>)</div></pre></td></tr></table></figure>
</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/06/07/post-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Skate Cloud">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Skate Cloud's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/06/07/post-1/" itemprop="url">
                  swift3.0 变量和简单的类型
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-06-07T10:20:58+08:00">
                2017-06-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li>didset/willset </li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//普通属性</span></div><div class="line"><span class="keyword">var</span> str = <span class="string">"hello"</span></div></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//计算属性</span></div><div class="line"><span class="keyword">var</span> str1:<span class="type">String</span> &#123;</div><div class="line"><span class="keyword">get</span>&#123;</div><div class="line"><span class="keyword">return</span> <span class="string">"hi"</span>+str</div><div class="line">&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//属性监察器</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>&#123;</div><div class="line"><span class="comment">//提示：属性监察器只能在class内部使用，直接定义变量时不可用 </span></div><div class="line"><span class="keyword">var</span> str:<span class="type">String</span> = <span class="string">"hello"</span>&#123;</div><div class="line"><span class="keyword">willSet</span>&#123;</div><div class="line"><span class="built_in">print</span>(<span class="string">"str will change"</span>)</div><div class="line"><span class="built_in">print</span>(<span class="string">"now: <span class="subst">\(str)</span>"</span>)</div><div class="line">&#125;</div><div class="line"><span class="keyword">didSet</span>&#123;</div><div class="line"><span class="built_in">print</span>(<span class="string">"str has changed"</span>)</div><div class="line"><span class="built_in">print</span>(<span class="string">"after: <span class="subst">\(str)</span>"</span>)</div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> h = <span class="type">Test</span>()</div><div class="line">h.str = <span class="string">"hi"</span></div><div class="line"><span class="comment">//output:</span></div><div class="line">str will change</div><div class="line">now: hello</div><div class="line">str has changed</div><div class="line">after: hi</div></pre></td></tr></table></figure>
<ul>
<li>lazy initialization</li>
</ul>
<blockquote>
<p>创建一个新的值是很昂贵的开销，所以我们应该避免在未使用的时候就创建，所以我们使用<code>lazy</code>关键字（一般用于view／image的加载）</p>
</blockquote>
<ul>
<li>typealias</li>
</ul>
<blockquote>
<p>typealias Point = (x:Int, y:Int)</p>
<p><code>typealias</code>类似于C语言中的<code>typedef</code></p>
</blockquote>
<ul>
<li>optional</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">func optionalExpecter(_ s: String)&#123;&#125;</div><div class="line">let str: String? = &quot;he&quot;</div><div class="line">optionalExpecter(str)</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">// 错误信息： Value of optional type &apos;String?&apos; not unwrapped; did you mean to use &apos;!&apos; or &apos;?&apos;?</div></pre></td></tr></table></figure>
<ul>
<li>unwrapping</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">optionalExpecter</span><span class="params">(<span class="number">_</span> s: String)</span></span>&#123;&#125;</div><div class="line"><span class="keyword">let</span> str: <span class="type">String</span>? = <span class="string">"he"</span></div><div class="line">optionalExpecter(str!)</div></pre></td></tr></table></figure>
<blockquote>
<p>str是可选的string，而<code>str!</code>则是获取了str的内容，即string</p>
</blockquote>
<ul>
<li>implicitly unwrapped optional</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">realString</span><span class="params">(<span class="number">_</span> s: String)</span></span>&#123;&#125;</div><div class="line"><span class="keyword">var</span> str: <span class="type">String</span>! = <span class="string">"how"</span></div><div class="line">realString(str)</div></pre></td></tr></table></figure>
<ul>
<li>nil</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str: <span class="type">String</span>? = <span class="string">"how"</span></div><div class="line"><span class="keyword">if</span> str == <span class="literal">nil</span>&#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"str is empty"</span>)</div><div class="line">&#125;<span class="keyword">else</span>&#123;</div><div class="line">    str = <span class="literal">nil</span></div><div class="line">    <span class="built_in">print</span>(<span class="string">"now str is empty"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>// <em>output</em>: <strong>now str is empty</strong></p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str: <span class="type">String</span>? = <span class="literal">nil</span></div><div class="line"><span class="built_in">print</span>(str!)</div></pre></td></tr></table></figure>
<blockquote>
<p>//<strong>fatal error: unexpectedly found nil while unwrapping an Optional value</strong></p>
<p>//<strong>reason: str is empty,there is nothing to unwrap</strong></p>
<ul>
<li>修改：</li>
</ul>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str: <span class="type">String</span>? = <span class="literal">nil</span></div><div class="line"><span class="keyword">if</span> str != <span class="literal">nil</span>&#123;  <span class="built_in">print</span>(str!)&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="Skate Cloud" />
          <p class="site-author-name" itemprop="name">Skate Cloud</p>
           
              <p class="site-description motion-element" itemprop="description">hi,这里是记录我学习还有一些思考的地方，欢迎您的访问(-_^)</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">17</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">7</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Skate Cloud</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  






  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  


  




	





  





  





  






  





  

  

  

  

</body>
</html>
